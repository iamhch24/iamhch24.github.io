---
title: "[Study] 자바 웹을 다루는 기술"
categories:
    - dev
tags:
    - dev
    - java 
    - jsp 
    - spring
toc: true
---
# 3장 설치
오라클 11g release 2를 설치 완료후
cmd 창에서

```
C:\Users\iamhch>sqlplus

SQL*Plus: Release 11.2.0.2.0 Production on 금 1월 1 19:16:26 2021

Copyright (c) 1982, 2014, Oracle.  All rights reserved.

Enter user-name: system
Enter password:

Connected to:
Oracle Database 11g Express Edition Release 11.2.0.2.0 - 64bit Production

SQL> create user scott identified by tiger;

User created.

SQL> grant resource, connect to scott;

Grant succeeded.

SQL> exit
Disconnected from Oracle Database 11g Express Edition Release 11.2.0.2.0 - 64bit Production

C:\Users\iamhch>sqlplus

SQL*Plus: Release 11.2.0.2.0 Production on 금 1월 1 19:21:10 2021

Copyright (c) 1982, 2014, Oracle.  All rights reserved.

Enter user-name: scott
Enter password:

Connected to:
Oracle Database 11g Express Edition Release 11.2.0.2.0 - 64bit Production

SQL>
```


# 4장 웹 애플리케이션 이해하기
톰캣에서 컨텍스트를 인식하는 방법

폴더 구조가 아래와 같아야 함.
(웹 애플리케이션 이름) >  (WEB-INF) > (classes) + (lib) + web.xml

```
web.xml
<?xml version="1.0" encoding="UTF-8"?>
<web-app  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns="http://java.sun.com/xml/ns/javaee" 
xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd" 
id="WebApp_ID"  version="3.0">
</web-app>
```
main.html은 (웹 애플리케이션 이름) 폴더에 생성함.
필요에 따라 images 등 폴더를 생성해도 됨

웹 브라우저로 요청하는 주소
	http://IP주소:포트번호/컨텍스트이름/요청파일이름

> 컨테이너에 웹 애플리케이션을 등록하는 방법 2가지
1.  %CATALINA_HOME%webApps 디렉토리 하위에 웹 애플리케이션 폴더를 넣음
2.  server.xml에 직접 웹 애플리케이션을 등록함 
                       
```
server.xml
<Context path="/컨텍스트 이름" docBase="실제 웹 애플리케이션의 WEB-INF 디렉토리 위치" reloadable="true or false"/>
(실제예시)
<Context path="/webMal" docBase="C:\\webShop" reloadable="true" />
```
위 예제에서 /webShop이 아닌 /webMal 이라는 이름으로 컨텍스트를 등록했음.

등록되지 않은 컨텍스트를 브라우져에서 호출하면 404 에러를 출력함.

> 배치 Deploy란?
- 개발이 완료된 웹 애플리케이션을 실제 사용자들에게 서비스하기 위한 작업
- 이클립스 상단 메뉴에서 File>Export>Web>WAR file 선택
- WAR 파일을 톰캣가 설치된 webapps 폴더 아래 넣어두고
- 다시 톰캣을 재실행하면 자동으로 webapps 폴더 아래 WAR 파일이 압축 풀리며 컨텍스트 폴더가 생성이 됨

> html/jsp 파일의 인코딩을 자동으로 지정 : windows>preference>web>utf-8


# 5장 서블릿
> 서블릿이란?
* 서버 쪽에서 실행되면서 클라이언트의 요청에 따라 동적으로 서비스를 제공하는 자바 클래스 
* HttpServelt을 상속받음

```
### **1) Servlet**
Servlet은 서블릿 프로그램을 개발할때 반드시 구현해야 하는 메서드를 선언하고 있는 인터페이스이다.  **이 표준을 구현해야 서블릿 컨테이너가 해당 서블릿을 실행할수 있다.**

### **2) GenericServlet**
GenericServlet은 Servlet 인터페이스를 상속하여 클라이언트-서버 환경에서 서버단의 애플리케이션으로서 필요한 기능을 구현한 추상클래스이다. service() 메서드를 제외한 모든 메서드를 재정의하여 적절한 기능으로 구현했다. GenericServlet 클래스를 상속하면 애플리케이션의 프로토콜에 따라 메서드 재정의 구문을 적용해야 한다.

### **3) HttpServlet**
일반적으로 서블릿이라하면 거의 대부분 HttpServlet을 상속받은 서블릿을 의미한다. HttpServlet은 GenericServlet을 상속받았으며, GenericServlet의 유일한 추상 메서드인 service를 HTTP 프로토콜 요청 메서드에 적합하게 재구현해놨다.
이미 DELETE, GET, HEAD, OPTIONS, POST, PUT, TRACE를 처리하는 메소드가 모두 정의되어 있다.
  
출처: [https://12bme.tistory.com/555](https://12bme.tistory.com/555) [길은 가면, 뒤에 있다.]
```

* 클라이언트 요청 >> public service() 호출 >> protected service() 호출 >>  doXXX 호출
* 서블릿 생명 주기 메서드 :: 초기화 init() >> 작업수행 doXXX >> 종료 destory()
* 서블릿 생성 과정 :: 사용자 정의 서블릿 클래스 만들기 >> 서블릿 생명주기 메서드 구현 >> 서블릿 매핑 작업 >> 웹 브라우저에서 서블릿 매핑 이름으로 요청하기

> 서블릿 매핑 방법
```
각 프로젝트에 있는 web.xml에서 설정
<servlet> 태그와 <servlet-mapping> 태그를 이용함
여러 개의 서블릿 매핑 시에는 <servlet> 태그를 먼저 정의하고 <servlet-mapping> 태그를 정의함
애너테이션을 이용하는 방법 :: 서블릿 클래스 위에 @WebServlet("/서블릿매핑이름"); 기록

(예시)
	<servlet>
		<servlet-name>aaa</servlet-name>
		<servlet-class>sec01.ex01.FirstServlet</servlet-class>
	</servlet>
	<servlet-mapping>
		<servlet-name>aaa</servlet-name>
		<url-pattern>/first</url-pattern>
	</servlet-mapping>
```

* 이클립스에서 서블릿 소스 만들 때 build path에 libraries에서 servlet-api.jar를 추가해 줘야 함.
* 
# 6장 서블릿 기초
* 서블릿 요청과 응답 수행 API 기능
요청 API :: javax.sevlet.http.HttpServletRequest 클래스
응답 API :: javax.sevlet.http.HttpServletResponse 클래스

* 브라우저에서 요청은 
<form> 태그를 이용해 서블릿에 요청

* <form> 태그 여러가지 속성
name 
method : get/post
action : JSP나 서블릿을 지정함



<!--stackedit_data:
eyJoaXN0b3J5IjpbNDM0MTc2MDc4LDY1MzA2MzU2NiwxMzkzOT
Y0NTQxLDUzNzE5MzkyNCwtMjk0MDIzNTI1LC0xMjc4ODA3NTk0
LDk0NjI5MDcyOSwtNTIyMzE0MjAzLC0xMjQyNDg3NzgwLC0yMD
I1ODQwNDg5LDgyNjYxMTQ5Nl19
-->